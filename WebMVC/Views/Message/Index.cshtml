@*@model List<WebMVC.EntityFramework.MESSAGE>*@
@model PagedList.IPagedList<WebMVC.EntityFramework.MESSAGE>
@using PagedList.Mvc;
@using System.Web.Mvc;
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section header {
    Hộp thư đến
}

<a href="/Message/CreateMessage" class="btn btn-primary">Gửi tin nhắn</a>
<a href="/Message/MessageSent" class="btn btn-primary">Tin nhắn đã gửi</a>
<br>
<br>
<div class="table-responsive">
    <table class="table table-striped table-bordered table-hover">
        <thead>
            <tr>
                <th>Nơi gửi</th>
                <th>Kiểu nơi gửi</th>
                <th>Nơi nhận</th>
                <th>Kiểu nơi nhận</th>
                @*<th>Message</th>*@
                <th>Ngày gửi</th>
                <th>Trạng Thái</th>
            </tr>
        </thead>
        <tbody>
            
                @foreach (var item in Model)
                {
                    <tr id="@item.ID">
                        <td>@item.Sender</td>
                        <td>@item.SenderType</td>
                        <td>@item.Receiver</td>
                        <td>@item.ReceiverType</td>
                        @*<td>thông báo cho merchant</td>*@
                        <td>@item.DateSend</td>
                        <td>
                            @if (item.IsRead == false)
                            {
                                <a href="/Message/ViewMessage/@item.ID" class="btn btn-primary btn-lg">Chưa xem</a>
                            }
                            else
                            {
                                <a href="/Message/ViewMessage/@item.ID" class="btn btn-danger btn-lg">Đã xem</a>
                            }
                            
                        </td>
                    </tr>
                }
        </tbody>
    </table>
    @Html.PagedListPager(Model, Page => Url.Action("Index", "Message", new { Page }))
</div>